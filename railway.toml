# railway.toml

[build]
builder = "nixpacks"
buildCommand = """
composer install --no-dev --optimize-autoloader --no-interaction
php spark cache:clear
php spark optimize
chmod -R 775 writable
mkdir -p writable/cache writable/logs writable/session
"""

[build.environment]
CI_ENVIRONMENT = "production"
COMPOSER_MEMORY_LIMIT = "-1"

[[services]]
type = "web"
name = "codeigniter-app"
healthcheckPath = "/"
healthcheckTimeout = 30
